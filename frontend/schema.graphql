# This file was generated. Do not edit manually.

schema {
    query: Query
    mutation: Mutation
}

"Indicates exactly one field must be supplied and this field must not be `null`."
directive @oneOf on INPUT_OBJECT

type Media {
    createdAt: Date!
    filename: String!
    id: ID!
    path: String!
    title: String
    type: MediatypeEnumType!
    updatedAt: Date!
}

type Mutation {
    changeUserPassword(id: ID!, newPassword: String!, oldPassword: String!): User
    changeUserPasswordAdmin(id: ID!, newPassword: String!): User
    clearResults(quizId: ID): Int
    createMedia(file: Upload!, title: String): Media
    createOption(isCorrect: Boolean!, questionId: ID!, text: String!): Option
    createQuestion(allowMultipleAnswers: Boolean!, mediaId: ID, quizId: ID!, text: String!): Question
    createQuiz(description: String!, title: String!): Quiz
    createResult(answers: [Answer]!, nickname: String!, quizId: ID!, time: Int!): Result
    createUser(password: String!, role: Role!, username: String!): User
    deleteMedia(id: ID!): Boolean
    deleteOption(id: ID!): Boolean
    deleteQuestion(id: ID!): Boolean
    deleteQuiz(id: ID!): Boolean
    deleteUser(id: ID!): Boolean
    editMedia(file: Upload, id: ID!, title: String): Media
    editOption(id: ID!, isCorrect: Boolean, text: String): Option
    editQuestion(allowMultipleAnswers: Boolean, id: ID!, mediaId: ID, text: String): Question
    editQuiz(description: String, id: ID!, title: String): Quiz
    editUser(id: ID!, role: Role, username: String): User
    getToken(password: String!, username: String!): String
}

type Option {
    createdAt: Date!
    id: ID!
    isCorrect: Boolean!
    questionId: Int!
    text: String!
    updatedAt: Date!
}

type Query {
    quiz(id: ID!): Quiz
    quizzes: [Quiz!]
    result(id: ID!): Result
    user(id: ID!): User
}

type Question {
    allowMultipleAnswers: Boolean!
    answers: [Option!]!
    createdAt: Date!
    id: ID!
    media: Media
    options: [Option!]!
    text: String!
    updatedAt: Date!
}

type Quiz {
    createdAt: Date!
    description: String!
    id: ID!
    questions: [Question!]!
    results(limit: Int): [Result!]!
    title: String!
    updatedAt: Date!
}

type Result {
    createdAt: Date!
    id: ID!
    nickname: String!
    quiz: Quiz!
    quizId: Int!
    score: Int!
    time: Int!
    total: Int!
    updatedAt: Date!
}

type User {
    createdAt: Date!
    id: ID!
    needsPasswordChange: Boolean!
    password: String!
    role: UserroleEnumType!
    updatedAt: Date!
    username: String!
}

enum MediatypeEnumType {
    image
    video
}

enum Role {
    admin
    editor
}

enum UserroleEnumType {
    admin
    editor
}

"A special custom Scalar type for Dates that converts to a ISO formatted string "
scalar Date

"The `Upload` scalar type represents a file upload."
scalar Upload

input Answer {
    optionIds: [ID!]!
    questionId: ID!
}
